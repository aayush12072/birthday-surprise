<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>

*{
margin:0;
padding:0;
box-sizing:border-box;
}

body{
font-family:'Inter',sans-serif;
background:#fdf6f8;
color:#2c2c2c;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;
}

.wrapper{
width:100%;
max-width:430px;
height:100vh;
display:flex;
flex-direction:column;
}

.progress-container{
height:3px;
background:#eee;
}

.progress-bar{
height:100%;
width:0%;
background:#d46a8c;
transition:0.6s ease;
}

.content{
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
padding:40px 30px;
transition:0.5s ease;
}

.title{
font-family:'Playfair Display',serif;
font-size:24px;
margin-bottom:25px;
line-height:1.4;
text-align:center;
}

.buttons{
display:flex;
flex-direction:column;
gap:16px; /* spacing added */
margin-top:20px;
}

button{
padding:14px 20px;
border-radius:40px;
border:1px solid #d46a8c;
background:white;
font-size:15px;
letter-spacing:0.5px;
cursor:pointer;
transition:0.3s;
}

button:hover{
background:#d46a8c;
color:white;
}

.memory-grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:12px;
margin-top:30px;
}

.card{
aspect-ratio:1/1;
perspective:1000px;
}

.card-inner{
width:100%;
height:100%;
position:relative;
transform-style:preserve-3d;
transition:0.6s;
}

.card.flipped .card-inner{
transform:rotateY(180deg);
}

.card-face{
position:absolute;
width:100%;
height:100%;
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
font-size:20px;
backface-visibility:hidden;
}

.card-front{
background:#d46a8c;
color:white;
}

.card-back{
background:white;
transform:rotateY(180deg);
border:1px solid #ddd;
}

.footer{
text-align:center;
font-size:12px;
color:#999;
padding-bottom:15px;
}

</style>
</head>
<body>

<div class="wrapper">

<div class="progress-container">
<div class="progress-bar" id="progressBar"></div>
</div>

<div class="content" id="content">
<div class="title" id="text"></div>
<div class="buttons" id="buttons"></div>
<div id="memoryArea"></div>
</div>

<div class="footer">Made for you</div>

</div>

<script>

let step = 0;
let totalSteps = 8;
const progressBar = document.getElementById("progressBar");

function updateProgress(){
progressBar.style.width = (step/totalSteps)*100 + "%";
}

function renderSlide(text, options){
step++;
updateProgress();
document.getElementById("memoryArea").innerHTML="";
document.getElementById("text").innerHTML=text;

const btnArea=document.getElementById("buttons");
btnArea.innerHTML="";

options.forEach(opt=>{
let btn=document.createElement("button");
btn.innerText=opt.text;
btn.onclick=opt.action;
btnArea.appendChild(btn);
});
}


/* -------- Slides -------- */

function start(){
renderSlide("Before we continue… I want you to take a slow breath.",[
{text:"Okay.",action:slide2}
]);
}

function slide2(){
renderSlide("Do you remember how this all began?",[
{text:"Yes.",action:slide3},
{text:"Remind me.",action:slide3}
]);
}

function slide3(){
renderSlide("Somehow, somewhere between conversations… you became important.",[
{text:"Continue.",action:slide4}
]);
}

function slide4(){
renderSlide("More than important. Essential.",[
{text:"Go on.",action:slide5}
]);
}

function slide5(){
renderSlide("Before I say anything more… you have to earn it.",[
{text:"What do I have to do?",action:startMemoryGame}
]);
}


/* -------- Memory Game -------- */

function startMemoryGame(){
step++;
updateProgress();

document.getElementById("buttons").innerHTML="";
document.getElementById("text").innerHTML="Match all pairs to continue.";

const symbols=["♡","∞","✿","✧","☾","✦","♥","✺"];
let cards=[...symbols,...symbols];
cards.sort(()=>0.5-Math.random());

const grid=document.createElement("div");
grid.className="memory-grid";
document.getElementById("memoryArea").innerHTML="";
document.getElementById("memoryArea").appendChild(grid);

let first=null;
let second=null;
let lock=false;
let matches=0;

cards.forEach(symbol=>{
const card=document.createElement("div");
card.className="card";

card.innerHTML=`
<div class="card-inner">
<div class="card-face card-front"></div>
<div class="card-face card-back">${symbol}</div>
</div>
`;

card.addEventListener("click",()=>{
if(lock||card.classList.contains("flipped")) return;

card.classList.add("flipped");

if(!first){
first=card;
}else{
second=card;

if(first.querySelector(".card-back").innerHTML ===
second.querySelector(".card-back").innerHTML){

matches++;
first=null;
second=null;

if(matches===symbols.length){
setTimeout(showFinal,700);
}

}else{
lock=true;
setTimeout(()=>{
first.classList.remove("flipped");
second.classList.remove("flipped");
first=null;
second=null;
lock=false;
},900);
}
}
});

grid.appendChild(card);
});
}


/* -------- Final Reveal -------- */

function showFinal(){
step++;
updateProgress();

document.getElementById("memoryArea").innerHTML="";
document.getElementById("text").innerHTML=
"Happy Birthday. You are not just part of my life. You are the reason it feels the way it does.";

const btnArea=document.getElementById("buttons");
btnArea.innerHTML="";

let btn=document.createElement("button");
btn.innerText="Go to the surprise";
btn.onclick=()=>{
window.location.href="INSTAGRAM_REEL_LINK_HERE";
};
btnArea.appendChild(btn);
}

start();

</script>

</body>
</html>
